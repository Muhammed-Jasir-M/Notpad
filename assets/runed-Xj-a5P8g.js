var N=t=>{throw TypeError(t)};var k=(t,e,r)=>e.has(t)||N("Cannot "+r);var n=(t,e,r)=>(k(t,e,"read from private field"),r?r.call(t):e.get(t)),i=(t,e,r)=>e.has(t)?N("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),d=(t,e,r,s)=>(k(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),v=(t,e,r)=>(k(t,e,"access private method"),r);var $=(t,e,r,s)=>({set _(o){d(t,e,o,r)},get _(){return n(t,e,s)}});import{a as M,p as g,$ as D,u as L,N as G,d as c,b as j,e as O}from"./svelte-C22-J2Wz.js";var l,m,h,b,f,B,F;class H{constructor(e,r){i(this,f);i(this,l,M());i(this,m);i(this,h,0);i(this,b,null);n(this,l).v=g(e),d(this,m,r)}get current(){return D()?L(()=>($(this,h)._++,n(this,h)===1&&v(this,f,B).call(this,!0),()=>{G().then(()=>{$(this,h)._--,n(this,h)===0&&v(this,f,F).call(this)})})):n(this,h)===0&&(v(this,f,B).call(this,!1),v(this,f,F).call(this)),c(n(this,l))}}l=new WeakMap,m=new WeakMap,h=new WeakMap,b=new WeakMap,f=new WeakSet,B=function(e){d(this,b,n(this,m).call(this,r=>{j(n(this,l),g(r))},e)??null)},F=function(){n(this,b)!==null&&(n(this,b).call(this),d(this,b,null))};const W=new H(null,(t,e)=>{function r(){t(document.activeElement)}if(r(),!!e)return document.addEventListener("focusin",r),document.addEventListener("focusout",r),()=>{document.removeEventListener("focusin",r),document.removeEventListener("focusout",r)}});function q(t){return typeof t=="function"}function J(t){return q(t)?t():t}var a;class U{constructor(e,r={box:"border-box"}){i(this,a,M(g({width:0,height:0})));var s,o;n(this,a).v=g({width:((s=r.initialSize)==null?void 0:s.width)??0,height:((o=r.initialSize)==null?void 0:o.height)??0}),L(()=>{const u=J(e);if(!u)return;const P=new ResizeObserver(C=>{for(const R of C){const y=r.box==="content-box"?R.contentBoxSize:R.borderBoxSize,_=Array.isArray(y)?y:[y];c(n(this,a)).width=_.reduce((p,A)=>Math.max(p,A.inlineSize),0),c(n(this,a)).height=_.reduce((p,A)=>Math.max(p,A.blockSize),0)}});return P.observe(u),()=>{P.disconnect()}})}get width(){return c(n(this,a)).width}get height(){return c(n(this,a)).height}}a=new WeakMap;function I(t,e){if(q(t)){const r=t;return r()??e??r()}return t??e??t}function K(t,e,r,s){const o=Array.isArray(e)?e:[e];for(const u of o)t.addEventListener(u,r,s);return()=>{for(const u of o)t.removeEventListener(u,r,s)}}function X(t,e,r,s){L(()=>{const o=I(t),u=I(e);if(o!=null)return K(o,u,r,s)})}var x,E;class Y{constructor(e){i(this,x,M());i(this,E);L(()=>{j(n(this,x),g(n(this,E))),d(this,E,e())})}get current(){return c(n(this,x))}}x=new WeakMap,E=new WeakMap;var z,S,w;class Z{constructor(e){i(this,z);i(this,S,O(()=>I(n(this,z))));i(this,w,O(()=>!c(n(this,S))||!W.current?!1:c(n(this,S)).contains(W.current)));d(this,z,e)}get current(){return c(n(this,w))}}z=new WeakMap,S=new WeakMap,w=new WeakMap;export{U as E,Z as I,Y as P,X as u};
